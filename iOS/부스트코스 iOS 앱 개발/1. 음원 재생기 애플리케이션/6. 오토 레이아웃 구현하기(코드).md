# NSLayoutConstraint

ì½”ë“œë¡œ ì˜¤í† ë ˆì´ì•„ì›ƒì„ êµ¬í˜„í•˜ëŠ” ë‹¤ë¥¸ ë°©ë²•. 

### ì˜¤í† ë ˆì´ì•„ì›ƒ ë°©ì •ì‹

view1.attr1 = view2.attr2 * multiplier + constant

item.attribute = toltem.attribute * multiplier + constant

| ë§¤ê°œë³€ìˆ˜ | ì„¤ëª… | ë¹„ê³  |
| --- | --- | --- |
| item | ì œì•½ì¡°ê±´ì„ ë°›ëŠ” ë·°(ì™¼ìª½) |  |
| relatedBy | ì œì•½ì¡°ê±´ì„ ë°›ëŠ” ë·°ê°„ì˜ ê´€ê³„ | NSLayoutRelation ì—´ê±°í˜• ê°’ì„ ê°€ì§„ë‹¤.(.lessThanOrEqual, .equal, .greaterThanOrEqual) |
| attribute | ë·°(ì™¼ìª½)ì˜ ì œì•½ì¡°ê±´ì˜ ì†ì„± | NSLayoutAttribute ì—´ê±°í˜• ê°’ì„ ê°€ì§„ë‹¤. (.left, .right, ...) |
| toltem | ë·°(ì™¼ìª½)ì˜ ì œì•½ì¡°ê±´ì„ ë°›ì„ ë·°(ì˜¤ë¥¸ìª½) | ì—†ì„ ê²½ìš° nil ê°€ëŠ¥ |
| attribute | ë·°(ì˜¤ë¥¸ìª½)ì˜ ì œì•½ì¡°ê±´ì˜ ì†ì„± | NSLayoutAttribute ì—´ê±°í˜• ê°’ì„ ê°€ì§„ë‹¤. |
| multiplier | ë·°(ì™¼ìª½)ì˜ ì†ì„±ê°’ì„ ì–»ê¸° ìœ„í•´ ë·°(ì˜¤ë¥¸ìª½)ì˜ ì†ì„±ê°’ì„ ê³±í•œë‹¤. | ì´ ê°’ì„ ì´ìš©í•´ ë¹„ìœ¨ë¡œ í¬ê¸°ë¥¼ ì„¤ì •í•  ìˆ˜ ìžˆê³ , ìœ„ì¹˜ì§€ì •ì—ë„ í™œìš©í•  ìˆ˜ ìžˆë‹¤. |
| constant | ìƒìˆ˜ ê°’ | ë¹„ìœ¨(multiplier)ì˜ ê°’ì´ ì•„ë‹Œ ìƒìˆ˜ì˜ ê°’ì´ í•„ìš”í•œ ê²½ìš°ì— ì‚¬ìš©í•œë‹¤. |
- buttonê³¼ textFieldì— ê¸°ë³¸ê°„ê²©ì— ì œì•½ì„ ì£¼ê¸° ìœ„í•´ `NSLayoutConstraint` ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ëŠ” ì½”ë“œ

```swift
NSLayoutConstraint(item: button, attribute: .right, relatedBy: .equal, toltem: textField, attribute: .left, multiplier: 1.0, constant: 8.0)
```

- buttonì˜ ë„ˆë¹„ê°€ 50ë³´ë‹¤ í¬ê±°ë‚˜ ê°™ë„ë¡ ë„“ì´ ì œì•½(Width Constraint)ì„ ì¤„ ìˆ˜ ìžˆëŠ” `NSLayoutConstraint` ì¸ìŠ¤í„´ìŠ¤ ìƒì„± ì½”ë“œ

```swift
NSLayoutConstraint(item: button, attribute: .width, relatedBy: .greaterThanOrEqual, toltem: nil, attribute: .notAnAttribtue, multiplier: 1.0, constant: 50.0)
```

- purpleBoxê°€ superViewë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì™¼ìª½(Leading) ê°„ê²©ì€ 50í¬ì¸íŠ¸, ì˜¤ë¥¸ìª½(Trailing) ê°„ê²©ì€ 50í¬ì¸ã„´íŠ¸ë¡œ ì„¤ì •í•œë‹¤. (Connection to Superview)

```swift
NSLayoutConstraint(item: purpleBox, attribute: .left, relatedBy: .equal, toltem: self.view, attribute: .left, multiplier: 1.0, constant: 50.0)
NSLayoutConstraint(item: purpleBox, attribute:: .right, relatedBy: .equal, toltem: self.view, attribute: .right, multiplier: 1.0, constant: -50.0)
```

- topFieldì™€ bottomFieldì˜ ì„¸ë¡œ ì‚¬ì´ì˜ ê°„ê²©ì„ 10í¬ì¸íŠ¸ë¡œ ì„¤ì •í•œë‹¤. (Vertical Layout)

```swift
NSLayoutConstraint(item: topField,
 			  attribute: .bottom,
 			  relatedBy: .equal,
 			  toItem: bottomField,
 			  attribute: .top,
 			  multiplier: 1.0,
 			  constant: -10.0)
```

- maroonViewì™€ blueViewì˜ ê°„ê²©ì´ ì—†ë‹¤. (Flush Views)

```swift
NSLayoutConstraint(item: maroonView,
 			  attribute: .right,
 			  relatedBy: .equal,
 			  toItem: blueView,
 			  attribute: .left,
 			  multiplier: 1.0,
 			  constant: 0.0)
```

- bottomì˜ ë„ˆë¹„ëŠ” 100í¬ì¸íŠ¸ì´ê³  ìš°ì„ ë„ëŠ” 20ìœ¼ë¡œ ì„¤ì •í•œë‹¤. (Priority)

```swift
NSLayoutConstraint(item: button,
 			  attribute: .width,
 			  relatedBy: .equal,
 			  toItem: nil,
 			  attribute: .notAnAttribute,
 			  multiplier: 1.0,
 			  constant: 100.0).priority = UILayoutPriority(rawValue: 20)
```

ðŸ’¡: ì˜¤í† ë ˆì´ì•„ì›ƒì—ì„œëŠ” ë·°ì— ì œì•½ì„ ì ìš©í•  ë•Œ ì–´ë–¤ ì œì•½ì„ ìš°ì„ ì‹œí•´ì•¼ í•˜ëŠ”ì§€ë¥¼ ìš°ì„ ë„ë¡œ ê²°ì •í•œë‹¤. ë§Œì•½ í•˜ë‚˜ì˜ ì†ì„±(attribute)ì— ì ìš©í•  ìˆ˜ ìžˆëŠ” ë‘ ê°œ ì´ìƒì˜ ì œì•½ì´ ìžˆë‹¤ë©´ ê·¸ì¤‘ ìš°ì„ ë„ê°€ ë†’ì€ ì œì•½ì´ ì ìš©ëœë‹¤. ìš°ì„ ë„ëŠ” 1ë¶€í„° 1000ê¹Œì§€ì˜ ì •ìˆ˜ë¡œ í‘œí˜„í•  ìˆ˜ ìžˆë‹¤.

- button1ê³¼ button2ì˜ ë„ˆë¹„ ê°’ì´ ê°™ë„ë¡ ì œì•½ì„ ìƒì„±í•œë‹¤. (Equal Widths)

```swift
NSLayoutConstraint(item: button1,
 			  attribute: .width,
 			  relatedBy: .equal,
 			  toItem: button2,
 			  attribute: .width,
 			  multiplier: 1.0,
 			  constant: 0.0)
```

- flexibleButtonì˜ ë„ˆë¹„ ê°’ì´ 70í¬ì¸íŠ¸ë³´ë‹¤ í¬ê±°ë‚˜ ê°™ê³  100í¬ì¸íŠ¸ë³´ë‹¤ ìž‘ê±°ë‚˜ ê°™ë„ë¡ ì œì•½ì„ ìƒì„±í•œë‹¤. (Multiple Predicates)

```swift
NSLayoutConstraint(item: flexibleButton,
 			  attribute: .width,
 			  relatedBy: .greaterThanOrEqual,
 			  toItem: nil,
 			  attribute: .notAnAttribute,
 			  multiplier: 1.0,
 			  constant: 70.0)
 			  
 NSLayoutConstraint(item: flexibleButton,
 			  attribute: .width,
 			  relatedBy: .lessThanOrEqual,
 			  toItem: nil,
 			  attribute: .notAnAttribute,
 			  multiplier: 1.0,
 			  constant: 100.0)
```

- button1, button2, textFieldì™€ superViewì˜ ê°„ê²©ì€ í‘œì¤€ ê°„ê²©(8í¬ì¸íŠ¸)ì´ë©° textFieldì˜ ë„ˆë¹„ ê°’ì€ 20í¬ì¸íŠ¸ë³´ë‹¤ í¬ê±°ë‚˜ ê°™ë„ë¡ ì œì•½ì„ ìƒì„±í•œë‹¤. (A complete Line of Layout)

```swift
// button1
 NSLayoutConstraint(item: button1,
 			  attribute: .left,
 			  relatedBy: .equal,
 			  toItem: self.view,
 			  attribute: .left,
 			  multiplier: 1.0,
 			  constant: 8.0)
 			  
 // button2
 NSLayoutConstraint(item: button2,
 			  attribute: .left,
 			  relatedBy: .equal,
 			  toItem: button1,
 			  attribute: .right,
 			  multiplier: 1.0,
 			  constant: 8.0)
 			  
 // textField
 NSLayoutConstraint(item: textField,
 			  attribute: .left,
 			  relatedBy: .equal,
 			  toItem: button2,
 			  attribute: .right,
 			  multiplier: 1.0,
 			  constant: 8.0)
 
 NSLayoutConstraint(item: textField,
 			  attribute: .width,
 			  relatedBy: .greaterThanOrEqual,
 			  toItem: nil,
 			  attribute: .notAnAttribute,
 			  multiplier: 1.0,
 			  constant: 20.0)
 
 NSLayoutConstraint(item: textField,
 			  attribute: .right,
 			  relatedBy: .equal,
 			  toItem: self.view,
 			  attribute: .right,
 			  multiplier: 1.0,
 			  constant: -8.0)
```

---

# Visual Format Language

### Visual Format Languageì—ì„œ ì‚¬ìš© ê°€ëŠ¥í•œ ê¸°í˜¸ ë° ë¬¸ìžì—´

| ê¸°í˜¸ ë° ë¬¸ìžì—´ | ì„¤ëª… |
| --- | --- |
| \| | superView |
| - | í‘œì¤€ ê°„ê²©. ê¸°ë³¸ì€ 8í¬ì¸íŠ¸ |
| == | ê°™ì€ ë„ˆë¹„ |
| -10- | ì‚¬ì´ì˜ ê°„ê²©ì´ 10í¬ì¸íŠ¸ |
| â‰¤50 | 50ë³´ë‹¤ ìž‘ê±°ë‚˜ ê°™ë‹¤ |
| â‰¥50 | 50ë³´ë‹¤ í¬ê±°ë‚˜ ê°™ë‹¤ |
| @750 | ìš°ì„ ë„ ì§€ì • |
| H | ìˆ˜í‰ ë°©í–¥(ê°€ë¡œ) |
| V | ìˆ˜ì§ ë°©í–¥(ì„¸ë¡œ) |
- buttonê³¼ textFieldì— ê¸°ë³¸ê°„ê²©(Standard Space, iOS 11 í˜„ìž¬ 8í¬ì¸íŠ¸)ì˜ ì œì•½ì„ ì¤Œ

```swift
H:[button]-8-[textField] ë˜ëŠ” 
H:[button]-[textField]
```

- buttonì˜ ë„ˆë¹„ê°€ 50í¬ì¸íŠ¸ë³´ë‹¤ í¬ê±°ë‚˜ ê°™ë„ë¡ ë„“ì´ ì œì•½(Width Constraint)

```swift
H:[button(>=50)]
```

- purpleBoxê°€ superViewë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì™¼ìª½(Leading) ê°„ê²©ì€ 50í¬ì¸íŠ¸, ì˜¤ë¥¸ìª½(Trailing) ê°„ê²©ì€ 50í¬ì¸íŠ¸ë¡œ ì„¤ì • (Connection to Superview)

```swift
H:|-50-[purpleBox]-50-|
```

- topFieldì™€ bottomFieldì˜ ì„¸ë¡œ ì‚¬ì´ì˜ ê°„ê²©ì„ 10í¬ì¸íŠ¸ë¡œ ì„¤ì • (Vertical Layout)

```swift
V:[topField]-10-[bottomField]
```

- maroonViewì™€ blueViewì˜ ê°„ê²©ì´ ì—†ìŒ (Flush Views)

```swift
H:[maroonView][blueView]
```

- buttonì˜ ë„ˆë¹„ëŠ” 100í¬ì¸íŠ¸ì´ê³  ìš°ì„ ë„ëŠ” 20ìœ¼ë¡œ ì„¤ì • (Priority)

```swift
H:[button(100@20)]
```

- button1ê³¼ button2ì˜ ë„ˆë¹„ ê°’ì´ ê°™ë„ë¡ ì œì•½ ìƒì„± (Equal Widths)

```swift
H:[button1(==button2)]
```

- flexibleButtonì˜ ë„ˆë¹„ ê°’ì´ 70í¬ì¸íŠ¸ë³´ë‹¤ í¬ê±°ë‚˜ ê°™ê³  100í¬ì¸íŠ¸ë³´ë‹¤ ìž‘ê±°ë‚˜ ê°™ë„ë¡ ì œì•½ì„ ìƒì„± (Multiple Predicates)

```swift
H:[flexibleButton(>=70, <=100)]
```

- find, findNext, findFieldì™€ superViewì˜ ê°„ê²©ì€ í‘œì¤€ ê°„ê²©(8í¬ì¸íŠ¸)ì´ë©° findFieldì˜ ë„ˆë¹„ ê°’ì€ 20í¬ì¸íŠ¸ë³´ë‹¤ í¬ê±°ë‚˜ ê°™ë„ë¡ ì œì•½ ìƒì„± (A Complete Line of Layout)

```swift
H:|-[find]-[findNext]-[findNext(>=20)]-|
```
